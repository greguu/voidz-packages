# Template file for 'pidgin'
pkgname=pidgin
version=2.14.9
revision=1
build_style=gnu-configure
configure_args="--disable-schemas-install --disable-meanwhile --enable-consoleui
 --disable-cyrus-sasl --disable-doxygen --enable-nm --disable-vv
 --with-system-ssl-certs=/etc/ssl/certs --disable-tk --disable-tcl
 --enable-gnutl --disable-perl --without-x --disable-dbus --disable-gtkui --disable-gstreamer --disable-avahi
 --with-ncurses-headers=${XBPS_CROSS_BASE}/usr/include"
short_desc="Multi-protocol instant messaging client"
maintainer="Orphaned <orphan@voidlinux.org>"
license="GPL-2.0-or-later"
homepage="https://pidgin.im/"
distfiles="${SOURCEFORGE_SITE}/pidgin/pidgin-${version}.tar.bz2"
checksum=1872d1629a26e9b775d9ec0bdd3d3fd348f721376f320b29bcd5ff3f0443222b
python_version=2
lib32disabled=yes

hostmakedepends="pkg-config intltool automake libtool gettext gettext-devel glib-devel"
makedepends="libglib-devel ncurses-devel libxml2-devel libidn-devel python-devel libsasl-devel libSM-devel gnutls-devel libgnt-devel"


CFLAGS="-Wno-deprecated-declarations"

pre_configure() {
	autoreconf -fi
}
post_install() {
	rm -rf ${DESTDIR}/etc/gconf
}

finch_package() {
	short_desc="Ncurses-based messaging client"
	pkg_install() {
		vmove usr/bin/finch
		vmove usr/share/man/man1/finch.1
	}
}
